<!DOCTYPE html>
<html>
<head>
  <title>Color Trading Demo</title>
  <style>
    body {
      background:#0f0f0f;
      color:white;
      font-family:Arial;
      text-align:center;
    }
    .box {
      margin:40px auto;
      padding:20px;
      background:#1f1f1f;
      border-radius:12px;
      width:320px;
      box-shadow:0 0 15px #000;
    }
    button {
      padding:10px 20px;
      margin:5px;
      font-size:15px;
      border:none;
      border-radius:6px;
      color:white;
      cursor:pointer;
    }
    .red {background:#e74c3c;}
    .green {background:#2ecc71;}
    .violet {background:#9b59b6;}
    .recharge {background:#3498db; margin-top:10px;}
    ul {padding-left:0; list-style:none;}
    li {font-size:14px; margin:3px 0;}
  </style>
</head>

<body>

<div class="box">
  <h2>Color Trading Demo</h2>
  <p>Balance: ₹<span id="balance">1000</span></p>

  <button class="red" onclick="selectColor('RED')">RED</button>
  <button class="green" onclick="selectColor('GREEN')">GREEN</button>
  <button class="violet" onclick="selectColor('VIOLET')">VIOLET</button>

  <p id="timer">Timer: 30</p>
  <p id="selected"></p>
  <p id="result"></p>

  <button class="recharge" onclick="recharge()">+ Recharge ₹500</button>

  <h3>History</h3>
  <ul id="history"></ul>
</div>

<script>
let time = 30;
let selectedColor = "";
let balance = 1000;
let history = [];

function selectColor(color){
  selectedColor = color;
  document.getElementById("selected").innerText =
    "You selected: " + color;
}

function getRandomColor(){
  const colors = ["RED","GREEN","VIOLET"];
  return colors[Math.floor(Math.random()*3)];
}

function recharge(){
  balance += 500;
  document.getElementById("balance").innerText = balance;
  alert("₹500 added (Demo)");
}

setInterval(()=>{
  time--;
  document.getElementById("timer").innerText = "Timer: " + time;

  if(time === 0){
    const winColor = getRandomColor();
    let text = "";

    if(selectedColor === winColor){
      balance += 100;
      text = "WIN (" + winColor + ")";
    } else {
      balance -= 100;
      text = "LOSE (" + winColor + ")";
    }

    history.unshift(text);
    if(history.length > 5) history.pop();

    document.getElementById("history").innerHTML =
      history.map(h=>"<li>"+h+"</li>").join("");

    document.getElementById("balance").innerText = balance;
    document.getElementById("result").innerText = text;

    time = 30;
    selectedColor = "";
    document.getElementById("selected").innerText = "";
  }
},1000);
</script>

</body>
</html>
