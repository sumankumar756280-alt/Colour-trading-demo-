<!DOCTYPE html>
<html>
<head>
  <title>Color Trading Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body{
      margin:0;
      font-family: 'Segoe UI', Arial;
      background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
      color:white;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
    }
    .card{
      background:#121212;
      width:95%;
      max-width:360px;
      border-radius:16px;
      padding:20px;
      box-shadow:0 10px 30px rgba(0,0,0,0.6);
      text-align:center;
    }
    h2{
      margin-top:5px;
      letter-spacing:1px;
    }
    .balance{
      background:#1e1e1e;
      padding:10px;
      border-radius:10px;
      margin-bottom:15px;
      font-size:16px;
    }
    .buttons{
      display:flex;
      justify-content:space-between;
      margin:15px 0;
    }
    button{
      flex:1;
      margin:0 5px;
      padding:12px 0;
      border:none;
      border-radius:10px;
      font-size:14px;
      font-weight:bold;
      color:white;
      cursor:pointer;
      transition:0.2s;
    }
    button:active{
      transform:scale(0.95);
    }
    .red{background:#e74c3c;}
    .green{background:#2ecc71;}
    .violet{background:#9b59b6;}

    .timer{
      font-size:22px;
      margin:10px 0;
    }
    .result{
      margin-top:8px;
      font-size:15px;
      min-height:20px;
    }
    .recharge{
      margin-top:12px;
      background:#3498db;
      width:100%;
    }
    .history{
      margin-top:15px;
      background:#1b1b1b;
      padding:10px;
      border-radius:10px;
      font-size:13px;
    }
    ul{
      list-style:none;
      padding:0;
      margin:5px 0 0;
    }
    li{
      margin:3px 0;
    }
  </style>
</head>

<body>

<div class="card">
  <h2>Color Trading</h2>

  <div class="balance">
    Balance: ₹<span id="balance">1000</span>
  </div>

  <div class="buttons">
    <button class="red" onclick="selectColor('RED')">RED</button>
    <button class="green" onclick="selectColor('GREEN')">GREEN</button>
    <button class="violet" onclick="selectColor('VIOLET')">VIOLET</button>
  </div>

  <div class="timer" id="timer">30</div>
  <div id="selected"></div>
  <div class="result" id="result"></div>

  <button class="recharge" onclick="recharge()">+ Recharge ₹500</button>

  <div class="history">
    <b>History</b>
    <ul id="history"></ul>
  </div>
</div>

<script>
let time = 30;
let selectedColor = "";
let balance = 1000;
let history = [];

function selectColor(color){
  selectedColor = color;
  document.getElementById("selected").innerText =
    "Selected: " + color;
}

function getRandomColor(){
  let admin = localStorage.getItem("adminResult");
  if(admin){
    localStorage.removeItem("adminResult");
    return admin;
  }
  const colors = ["RED","GREEN","VIOLET"];
  return colors[Math.floor(Math.random()*3)];
}

function recharge(){
  balance += 500;
  document.getElementById("balance").innerText = balance;
}

setInterval(()=>{
  time--;
  document.getElementById("timer").innerText = time;

  if(time === 0){
    const winColor = getRandomColor();
    let text;

    if(selectedColor === winColor){
      balance += 100;
      text = "WIN - " + winColor;
    } else {
      balance -= 100;
      text = "LOSE - " + winColor;
    }

    history.unshift(text);
    if(history.length > 5) history.pop();

    document.getElementById("history").innerHTML =
      history.map(h=>"<li>"+h+"</li>").join("");

    document.getElementById("result").innerText = text;
    document.getElementById("balance").innerText = balance;

    time = 30;
    selectedColor = "";
    document.getElementById("selected").innerText = "";
  }
},1000);
</script>

</body>
</html>
